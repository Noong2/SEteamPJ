<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>TimeOfArrivalNavigation</title>
    <script src="https://kit.fontawesome.com/f97a5f4cb2.js" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=3bfe53j5op"></script>

</head>
<body>
    <!-- home bar -->
    <header class="navbar">
        <div class="navbar_logo">
            <i class="fa-solid fa-map"></i>
            <a href="">TA Navigation</a>
        </div>
    </header>

    <!-- infobox=sidebar+mapbar 데이터 표시영역 -->
    <div class="infobox">
        <!-- search aside 검색 작업과 출력 작업 영역 -->
        <aside class="sidebar">
            
            <!-- search option setting 검색 옵션 설정 -->
            <div class="sidebar_optionArea">

                <div class="btn_search_tab_area">
                    <div class="btn_search_tab">
                        <li><button id="button_bus">
                            <i class="fa-solid fa-bus"></i> 
                            <span>대중교통</span>
                        </button></li>
                        <li><button id="button_car">
                            <i class="fa-solid fa-car"></i>
                            <span>자동차</span>
                        </button></li>
                        <li><button id="button_person-running">
                            <i class="fa-solid fa-person-running"></i>
                            <span>도보</span>
                        </button></li>
                        <li><button id="button_bicycle"> 
                            <i class="fa-solid fa-bicycle"></i>
                            <span>자전거</span>
                        </button></li>
                    </div>
                </div>

                <div class="search_inputBox_area">
                    <div class="search_inputBox">
                        <li>
                            <span>출발지 입력</span>
                            <input type="text" placeholder="출발지">
                        </li>
                        <li>
                            <span>도착지 입력</span>
                            <input type="text" placeholder="도착지">
                        </li>
                    </div>
                </div>

                <div class="option_time_area">
                    <div class="option_time">
                        <div>
                            <span>목표 시간</span>
                            <input type="datetime-local" name="goalTime" id="">
                        </div>
                    </div>
                </div>

                <div class="action_tab_area">
                    <div class="action_tab">
                        <button type="reset">
                            <i class="fa-solid fa-rotate-right"></i>
                            <span>재설정</span>
                        </button>
                        <button type="submit">
                            <span>길찾기</span>
                            <i class="fa-solid fa-angles-right"></i>
                        </button>
                    </div>
                </div>

            </div>

            <!-- results list 검색 결과 목록 -->
            <div class="sidebar_resultsArea">
                <div class="sidebar_resultstext">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <span>검색 결과</span>
                </div>

                <!-- resultList 검색결과 목록 -->
                <div class="resultList">

                </div>
            </div>

        </aside>

        <!-- map section 지도 출력 및 옵션 영역-->
        <section class="mapbar">
            <!-- map view 지도 출력 -->
            <div class="viewMap">
                <div id="map"></div>

                <script>
                    // Naver Map을 표시할 div 요소를 가져옵니다.
                    var mapDiv = document.getElementById('map');

                    // Naver Maps API를 초기화합니다.
                    var map = new naver.maps.Map(mapDiv, {
                        center: new naver.maps.LatLng(37.5665, 126.9780), // 지도 중심 좌표 (서울)
                        zoom: 13, // 초기 줌 레벨
                    });

                    // 지도에 마커를 추가합니다.
                    var marker = new naver.maps.Marker({
                        position: new naver.maps.LatLng(37.5665, 126.9780), // 마커 위치 (서울)
                        map: map,
                    });
                </script>
            </div>

            <!-- map option 지도 조정 영역 -->
            <div class="optionMap">

            </div>
            
        </section>
    </div>
    
    <script>

        var TypeOfButton = 0
        //교통수단 저장하는 함수  1번 대중교통 2번 자가용 3번 도보 4번 자전거

        document.addEventListener('DOMContentLoaded', function () {
            // 대중교통 버튼에 대한 이벤트 리스너 추가
            document.querySelector('.fa-bus').parentNode.addEventListener('click', function () {
                //alert('대중교통버튼 클릭')
                TypeOfButton = 1
                handleTransportationButtonClick('bus');
            });
    
            // 자동차 버튼에 대한 이벤트 리스너 추가
            document.querySelector('.fa-car').parentNode.addEventListener('click', function () {
                //alert('자동차버튼 클릭')
                TypeOfButton = 2
                handleTransportationButtonClick('car');
            });
    
            // 도보 버튼에 대한 이벤트 리스너 추가
            document.querySelector('.fa-person-running').parentNode.addEventListener('click', function () {
                //alert('도보버튼 클릭')
                TypeOfButton = 3
                handleTransportationButtonClick('person-running');
            });
    
            // 자전거 버튼에 대한 이벤트 리스너 추가
            document.querySelector('.fa-bicycle').parentNode.addEventListener('click', function () {
                //alert('자전거버튼 클릭')
                TypeOfButton = 4
                handleTransportationButtonClick('bicycle');
            });
    
            // 길찾기 버튼에 대한 이벤트 리스너 추가
            document.querySelector('.action_tab button[type="submit"]').addEventListener('click', function () {
                handleFindPathButtonClick();
            });
    
            // 재설정 버튼에 대한 이벤트 리스너 추가
            document.querySelector('.action_tab button[type="reset"]').addEventListener('click', function () {
                var inputElements = document.querySelectorAll('.search_inputBox_area input, .option_time_area input');

                inputElements.forEach(function (inputElement) {
                inputElement.value = '';
                });
                
                var selectedButton = document.querySelector('.btn_search_tab button.selected');
                if (selectedButton) {
                selectedButton.classList.remove('selected');
                }

                handleResetButtonClick();
            });
        });
    
        // 대중교통, 자동차, 도보, 자전거 버튼 클릭 시 실행될 함수
        function handleTransportationButtonClick(transportationType) {
            var selectedButton = document.querySelector('.btn_search_tab button.selected');
            var currentButton = document.getElementById('button_' + transportationType.toLowerCase());
            
            if (selectedButton) {
            selectedButton.classList.remove('selected');

            currentButton.classList.add('selected');

            console.log('Selected Transportation:', transportationType);
        }
        else
        {
        currentButton.classList.add('selected');
        }
    }

    // 길찾기 버튼 클릭 시 실행될 함수
    // 길찾기 버튼을 클릭할때만 출발지, 도착지, 목표시간, 버튼 정수가 저장됨    
    function handleFindPathButtonClick() {
    var departureInput = document.querySelector('.search_inputBox_area input[placeholder="출발지"]');
    var destinationInput = document.querySelector('.search_inputBox_area input[placeholder="도착지"]');
    var goalTimeInput = document.querySelector('.option_time_area input[name="goalTime"]');
    
    var departure = departureInput.value; //출발지의 입력값
    var destination = destinationInput.value;//도착지의 입력값
    var goalTime = goalTimeInput.value;//목표시간의 입력값

    TypeOfButton//4개의 버튼중하나
    //위의 3가지 변수를
    }
        // 재설정 버튼 클릭 시 실행될 함수
        function handleResetButtonClick() {
            console.log('Reset Button Clicked');
            // 이곳에 재설정 관련 동작을 추가하세요.
        }

    </script>

</body>
</html>